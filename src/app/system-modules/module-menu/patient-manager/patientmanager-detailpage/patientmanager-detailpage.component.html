<div>
    <div class="patientPage-mainWrap">
        <div class="page-title">Patient Page</div>
        <div class="patientPage-sideTab">
            <div class="sideTab-header">
                <div class="patient-img">
                    <div class="patient-img-wrap">
                        <div *ngIf="patient?.personDetails?.profileImageObject === undefined || patient === null"><img src="assets/images/users/default.png"></div>
                        <img *ngIf="patient?.personDetails?.profileImageObject !== undefined && patient !== null" class="shadow" [src]="facilityService.transform(patient?.personDetails?.profileImageObject?.detailthumbnail)">
                        <div (click)="show_changeUserImg()" class="pp-overlay">Change User Image</div>
                    </div>
                    <section class="accBal-wrap">
                        <span class="accBal-label">Account Balance</span>
                        <span class="accBal-val">&#8358; 20,000</span>
                    </section>
                </div>
                <div class="headerDetail-wrap">
                    <div class="patient-name">{{patient?.personDetails.lastName}} {{patient?.personDetails.firstName}} {{patient?.personDetails.title.name}}</div>
                    <div class="headDetail-group">
                        <div class="patient-gender">{{patient?.personDetails.gender.name}}</div>
                        <div class="patient-apmisNo">{{patient?.personDetails.apmisId}}</div>
                    </div>
                    <div class="headDetail-group">
                        <div class="patient-dob">{{patient?.personDetails.dateOfBirth | date}}</div>
                        <div class="patient-phone">{{patient?.personDetails.phoneNumber}}</div>
                    </div>
                    <div class="patient-email">{{patient?.personDetails.email}}</div>

                    <!-- <div class="cta-wrap">
                        <div class="checkoutBtn">Set Appointment</div>
                        <legend (click)="checkoutPatient_show()" class="checkoutBtn">Checkout</legend>
                    </div> -->

                    <ul class="topmenuwrap">
                        <li [routerLink]="['/dashboard/clinic/schedule-appointment']">
                            <i class="fa fa-plus-circle" aria-hidden="true"></i>
                            <span>Set Appointment</span>
                        </li>
                        <li (click)="checkoutPatient_show()">
                            <i class="fa fa-sign-out" aria-hidden="true"></i>
                            <span>Checkout</span>
                        </li>
                    </ul>

                </div>
            </div>

            <div class="sideTab-nav">
                <div class="menu-sect">
                    <div (click)="menuSummary_click()" [class.active-menuItem]="menuSummary" class="menu-item">Patient Summary</div>
                    <div (click)="menuTimeline_click()" [class.active-menuItem]="menuTimeline" class="menu-item">Timeline</div>
                    <div (click)="menuDocs_click()" [class.active-menuItem]="menuDocs" class="menu-item">Documentation</div>
                    <div (click)="menuPrescriptions_click()" [class.active-menuItem]="menuPrescriptions" class="menu-item">Prescribe Drug</div>
                    <div (click)="menuExternalPrescriptions_click()" [class.active-menuItem]="menuPrescriptions" class="menu-item">Prescription List</div>
                    <div (click)="menuMedicationHistory_click()" [class.active-menuItem]="menuMedicationHistory" class="menu-item">Medication History</div>
                </div>
                <div class="menu-sect">
                    <div (click)="menuImages_click()" [class.active-menuItem]="menuImages" class="menu-item">Images</div>
                    <div (click)="menuForms_click()" [class.active-menuItem]="menuForms" class="menu-item">Forms</div>
                </div>
                <div class="menu-sect">
                    <div (click)="menuLab_click()" [class.active-menuItem]="menuLab" class="menu-item">Laboratory</div>
                    <div (click)="menuImaging_click()" [class.active-menuItem]="menuImaging" class="menu-item">Imaging</div>
                </div>
                <div class="menu-sect">
                    <div (click)="menuPrescriptions_click()" [class.active-menuItem]="menuPrescriptions" class="menu-item">Prescriptions</div>
                    <div (click)="menuTreatmentPlan_click()" [class.active-menuItem]="menuTreatmentPlan" class="menu-item">Treatment Plan</div>
                </div>
                <div class="menu-sect">
                    <div (click)="menuBilling_click()" [class.active-menuItem]="menuBilling" class="menu-item">Billing</div>
                    <div (click)="menuPharmacy_click()" [class.active-menuItem]="menuPharmacy" class="menu-item">Pharmacy</div>
                </div>
            </div>
        </div>

        <div class="patientPage-contentArea">
            <app-patient-summary [patient]="patient" *ngIf="menuSummary && patient !== undefined"></app-patient-summary>
            <app-documentation [patient]=patient *ngIf="menuDocs"></app-documentation>
            <app-patient-prescription [selectedAppointment]="selectedAppointment" [patientDetails]="patientDetails" [employeeDetails]="employeeDetails" *ngIf="menuPrescription"></app-patient-prescription>
            <app-medication-history *ngIf="menuMedicationHistory"></app-medication-history>
            <app-external-prescription [patientDetails]="patientDetails" *ngIf="menuExternalPrescription"></app-external-prescription>
        </div>

        <div *ngIf="addVitalsPop" class="modal-overlay">
            <!--<app-add-vitals (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-vitals>-->
            <app-add-vitals [patientId]="patient._id" (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-vitals>
        </div>
        <div *ngIf="addTagsPop" class="modal-overlay">
            <app-add-tags (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-tags>
        </div>
        <div style="z-index: 1501;" *ngIf="checkoutPatient" class="modal-overlay">
            <app-checkout-patient [employeeDetails]="employeeDetails" [selectedAppointment]="selectedAppointment" (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-checkout-patient>
        </div>
        <div *ngIf="changeUserImg" class="modal-overlay">
            <app-image-update [selectedPerson]="patient.personDetails" (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-image-update>
        </div>
    </div>
</div>
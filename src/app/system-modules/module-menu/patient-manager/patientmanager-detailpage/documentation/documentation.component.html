<div class="pg-subtitle">DOCUMENTATION</div>
<div>
<div class="doc-mainWrap">
  <div class="doc-contentArea">
    
    <div class="clinicalNoteWrap">
      <div class="actSect">
        <div (click)="clinicalNote_show()" class="act-wrap">
          <i *ngIf="clinicalNote_view" class="fa fa-minus" aria-hidden="true"></i>
          <i [hidden]="clinicalNote_view" class="fa fa-plus" aria-hidden="true"></i>
          <span>Add Clinical Note</span>
        </div>
      </div>

      <app-clinical-note [patient]="patient" *ngIf="clinicalNote_view" ></app-clinical-note>
    </div>

    <ul class="doc-cardWrap">
      
      <li class="doc-card shadow" *ngFor="let document of documents">
        <div class="modal_title">{{document?.document?.documentType?.title}}</div> 
        <div class="docCard-header">
                    
          <div class="empWrap">
            <div class="list-img">
                <img *ngIf="document?.createdBy?.employeeDetails?.profileImageObject === undefined" src="assets/images/users/default.png">
                 <div *ngIf="document?.createdBy?.employeeDetails?.profileImageObject !== undefined"> <img class="shadow" [src]="facilityService.transform(document?.createdBy?.employeeDetails?.profileImageObject?.thumbnail)"></div> 
            </div>
            <div>
              <div class="val-tag">Practitioner</div>
              <div class="list-label">{{document?.createdBy?.employeeDetails?.personFullName}}</div>
            </div>
          </div>

          
          <div>
            <div class="val-tag">Status</div>
            <div class="list-label">Draft</div>
          </div>

          <div>
            <div class="val-tag">Date/Time</div>
            <div class="list-label">{{document.createdAt | date:'shortDate'}}. <span class="time">{{document.createdAt | date:'shortTime'}}</span></div>
          </div>

          <ul class="topmenuwrap">
              <li (click)="docDetail_show(document)">
                  <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                  <span>View</span>
              </li>
          </ul>
          
          <div class="docCard-ctaWrap">
            <i class="edit-ico-color fa fa-pencil-square" aria-hidden="true"></i>
            <i class="del-ico-color fa fa-trash" aria-hidden="true"></i>
          </div>

        </div>

        <div class="docCard-body">

          <div class="cardSect-wrap">

            <div class="card-sect">
              <div class="docCard-sectContent">
                    <div *ngFor="let key of document?.document?.body | keys">
                            <div class="sect-key">{{key}}:</div> 
                            <div class="sect-value">{{document?.document?.body[key]}}</div>
                    </div>
              </div>
            </div>
          </div>
          
        </div>

        <div class="docCard-foot"><i (click)="docDetail_show(document)" class="fa fa-ellipsis-h" aria-hidden="true"></i></div>
      </li>   
    </ul>
  </div>
  <div class="doc-rArea">
    <app-right-tab 
        (addProblem)="addProblem_show($event)"
        (addAllergy)="addAllergy_show($event)"
        (addHistory)="addHistory_show($event)"
        (addVitals)="addVitals_show($event)"
        ></app-right-tab>
  </div>

<div *ngIf="docDetail_view" class="modal-overlay">
  <app-documentation-detail [document] ="selectedDocument" (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-documentation-detail>
</div>

<div *ngIf="addProblem_view" class="modal-overlay">
  <app-add-patient-problem (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-patient-problem>
</div>

<div *ngIf="addAllergy_view" class="modal-overlay">
  <app-add-allergy (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-allergy>
</div>

<div *ngIf="addHistory_view" class="modal-overlay">
  <app-add-history (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-history>
</div>

<div *ngIf="addVitals_view" class="modal-overlay">
  <app-add-vitals (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-vitals>
</div>
</div>
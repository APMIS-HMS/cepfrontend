<<<<<<< HEAD
<!-- table header start-->
<div class="wrap-th">
    <div class="pres-col" id="long-text">Prescription</div>
    <div class="pres-col">Instruction</div>
    <div class="pres-col">Refill Count</div>
    <div class="pres-col" id="action-long">Action</div>
</div>
<div *ngFor="let prescription of prescriptionItems.prescriptionItems; let i = index;">
    <div class="wrap-tr">
        <div class="pres-data" id="long-text">
            {{ prescription.genericName }} - {{ prescription.frequency }} for {{ prescription.duration }}
        </div>
        <div class="pres-data">{{ prescription.patientInstruction }}</div>
        <div class="pres-data">{{ prescription.refillCount }}</div>
        <div class="pres-data padding" id="action-long">
            <div class="text-center">
                <a (click)="onClickDeleteItem(i);"><i class="fa fa-trash"></i></a>
                <label *ngIf="!prescription.isBilled" for="isExternal-{{i}}">
                    <input type="checkbox" id="isExternal-{{i}}" (change)="onClickIsExternal(i, $event.target.checked, prescription);" />External?
                </label>
                <button *ngIf="!prescription.initiateBill" (click)="toggleBill(i, prescription);" class="btn {{ prescription.isBilled ? ' btn-green': ' btn-default'}}">
                    <span *ngIf="!prescription.isBilled">Bill</span>
                    <span *ngIf="prescription.isBilled" style="color: #fff;">Billed <i class="fa fa-check"></i></span>
                </button>
            </div>
        </div>
    </div>
    <!--inner container onclick-->
    <!--<div *ngIf="billShow && (billShowId == i)" class="inner-container" [formGroup]="addBillForm">
        <div class="row" style="width:100%" formArrayName="bill">
            <div [formGroupName]="j" *ngIf="j == i">
                <div class="col-sm-4 col-md-4">
                    <md-select formControlName="drug" placeholder="Drug">
                        <md-option *ngFor="let drug of drugs" [(value)]="drug._id">{{ drug.name }}</md-option>
                    </md-select>
                </div>
                <div class="col-sm-3 col-md-3">
                    <md-input-container>
                        <input mdInput formControlName="qty" type="number" placeholder="Quantity">
                    </md-input-container>
                </div>
                <div class="col-sm-3 col-md-3">
                    <div class="center">
                        <div class="qs">
                            <ul class="shadow-RB workspace-listWrap animated zoomIn">
                                <li class="workspace-listItem">
                                    <ng-container>
                                        <span>south weste</span>
                                    </ng-container>
                                </li>
                                <div class="pointer-wrap"><i class="fa fa-caret-down" aria-hidden="true"></i></div>
                            </ul>
                            <a><span class="badge">5</span> Stores </a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-1 col-ms-1">
                    <p style="color:red; margin-top:30px"><strong>N</strong>200</p>
                </div>
                <div class="col-sm-1 col-md-1">
                    <div class="text-amount puul-right">
                        <button class="btn btn-default save-btn" (click)="onClickSaveCost(i, j);">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>-->
</div>
<div class="wrap-tr text-center" *ngIf="prescriptionItems.length === 0">
    <div class="pres-data" style="width: 100%">No data to display in table</div>
</div>
<div class="row">
    <div class="col-sm-12 col-md-12 padding-10px">
        <div class="col-sm-6 pull-right">
            <!--<p class="pull-right"><strong>Total Bill</strong> <span style="color:red;">&#x20A6; 200</span></p>-->
=======
<div>
    <table cellpadding="0" cellspacing="0" border="0.5">
        <thead style="text-align: left">
            <tr class="table-header">
                <th class="table-header-data" style="width: 5%;">
                    <span style="padding-left: 3px;">S/N</span>
                </th>
                <th class="table-header-data" style="width: 55%;">
                    <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    <span style="padding-left: 3px;">Prescription</span>
                </th>
                <th class="table-header-data" style="width: 15%;">
                    <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    <span style="padding-left: 3px;">Instruction</span>
                </th>
                <th class="table-header-data" style="width: 25%;">
                    <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                    <span style="padding-left: 3px;">Action</span>
                </th>
            </tr>
        </thead>

        <tbody>
            <tr *ngIf="prescriptionItems.prescriptionItems.length === 0 && !loading">
                <td class="table-content" colspan="4" style="text-align: center !important; padding: 10px !important;"> No data available in table</td>
            </tr>
            <tr *ngIf="prescriptionItems.prescriptionItems.length === 0 && loading">
                <td class="table-content" colspan="4" style="text-align: center !important; padding: 10px !important;">
                    <md-spinner class="small-spinner"></md-spinner>
                </td>
            </tr>
            <tr *ngFor="let prescription of prescriptionItems.prescriptionItems; let i = index;" style="text-align: left">
                <td class="table-content" style="width: 5%;">{{ i+1 }}</td>
                <td class="table-content" style="width: 55%;">
                    {{ prescription.genericName }} {{ prescription.strength }} - {{ prescription.frequency }} for {{ prescription.duration }}, {{ prescription.routeName }} ({{ prescription.refillCount }}) <br>
                    <span *ngIf="prescription.isBilled" style="color:#2e7d32;">
                        Drug: {{ prescription.productName }}, Quantity: {{ prescription.quantity }}, Unit Price: {{ prescription.cost }}, Cost: {{ prescription.totalCost }}
                    </span>
                </td>
                <td class="table-content" style="width: 15%;">{{ prescription.patientInstruction }}</td>
                <td class="table-content" style="width: 25%; padding: 5px !important;">
                    <div *ngIf="isPrescriptionPage" class="pres-data action-long">
                        <a class="trash-box" (click)="onClickDeleteItem(i, prescription);"><i class="fa fa-trash"></i></a>
                        <md-checkbox *ngIf="!prescription.isBilled" (change)="onClickIsExternal(i, $event.checked, prescription);" [checked]="prescription.isExternal">External?</md-checkbox>
                        <button md-raised-button *ngIf="!prescription.initiateBill" (click)="toggleBill(i, prescription);" class="btn {{ prescription.isBilled ? ' btn-green': ' btn-default'}}">
                            <span *ngIf="!prescription.isBilled">Bill</span>
                            <span *ngIf="prescription.isBilled" style="color: #fff;">Billed</span>
                        </button>
                    </div>
                    <div *ngIf="isDispensePage" class="pres-data action-long">
                        <!-- <a class="trash-box" (click)="toggleBill(i, prescription);"><i class="fa fa-edit"></i></a> -->
                        <md-checkbox *ngIf="!prescription.isBilled" (change)="onClickIsExternal(i, $event.checked, prescription);" [checked]="prescription.isExternal">External?</md-checkbox>
                        <button md-raised-button *ngIf="!prescription.initiateBill" (click)="toggleBill(i, prescription);" class="btn {{ prescription.isBilled ? ' btn-green': ' btn-default'}}">
                            <span *ngIf="!prescription.isBilled">Bill</span>
                            <span *ngIf="prescription.isBilled" style="color: #fff;">Billed</span>
                        </button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="row" *ngIf="!isDispensePage">
    <div class="row">
        <div class="col-sm-12 col-md-12" style="padding-top: 10px;">
            <div class="col-sm-6 pull-right" style="padding-right: 20px;">
                <p class="pull-right"><strong>Total Quantity:</strong> <span> {{ totalQuantity }}</span></p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-12">
            <div class="col-sm-6 pull-right" style="padding-right: 20px;">
                <p class="pull-right"><strong>Total Bill:</strong> <span> &#x20A6;{{ totalCost }}</span></p>
            </div>
>>>>>>> development
        </div>
    </div>
</div>

<<<<<<< HEAD
<app-bill-prescription *ngIf="billShow" [prescriptionData]="prescriptionData"></app-bill-prescription>
=======
<app-bill-prescription *ngIf="billShow" [prescriptionData]="prescriptionData" (closeModal)="close_onClick($event)"></app-bill-prescription>
>>>>>>> development

<div class="c-page-header">
    <h3 class="c-page-title">List of Rooms in {{wardDetail.name}}</h3>
    <div class="pull-right btn-box">
        <div class="add-action-box">
            <button md-raised-button (click)="addRoomModal()" class="btn pull-right"><i class="fa fa-plus-square" aria-hidden="true "></i> Add Room</button>
        </div>
        <div class="back-btn">
            <span routerLink="/dashboard/ward-manager/setup"><i class="fa fa-arrow-circle-o-left"></i> Back to Setup</span>
        </div>
    </div>
</div>
<div class="c-page-body">
    <div class="inPatients">
        <div class="table-responsive">
            <table class="table table-striped no-margin" cellspacing="0" width="100%">
                <thead>
                    <tr class="table-bordered">
                        <th style="width: 5%">No</th>
                        <th>Room(s)</th>
                        <th>Group</th>
                        <th>Service</th>
                        <th>No. of Bed(s)</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody class="custom-tbody">
                    <tr *ngIf="rooms.length === 0 && loading">
                        <td class="table-content " colspan="6" style="text-align: center">
                            <md-spinner class="small-spinner"></md-spinner>
                        </td>
                    </tr>
                    <tr *ngIf="rooms.length === 0 && !loading">
                        <td class="table-content " colspan="6" style="text-align: center">
                            No data available in table
                        </td>
                    </tr>
                    <tr class="details-link" *ngFor="let room of rooms;let i = index">
                        <td routerLink="/dashboard/ward-manager/setup/ward/{{wardId}}/room/{{room._id}}">{{i+1}}</td>
                        <td>
                            <div [hidden]="roomNameEditShow[i]" routerLink="/dashboard/ward-manager/setup/ward/{{wardId}}/room/{{room._id}}">{{room.name}}</div>
                            <input *ngIf="roomNameEditShow[i]" class="edit-control lhs" type="text" value="{{room.name}}" [formControl]="editRoomName">
                        </td>
                        <td>
                            <div [hidden]="roomNameEditShow[i]" routerLink="/dashboard/ward-manager/setup/ward/{{wardId}}/room/{{room._id}}">
                                {{room.groupName}}
                            </div>
                            <select *ngIf="roomNameEditShow[i]" [formControl]="editRoomGroup">
                                <option  value="" disabled selected>Select Room's Group</option>
                                <option *ngFor="let item of roomGroupItems" value={{item._id}}>{{item?.name}}</option>
                            </select>
                        </td>
                        <td>
                            <div [hidden]="roomNameEditShow[i]" routerLink="/dashboard/ward-manager/setup/ward/{{wardId}}/room/{{room._id}}">
                                {{room?.serviceName}} </div>
                            <select *ngIf="roomNameEditShow[i]" [formControl]="editServicePrice">
                                <option  value="" disabled selected>Select Room's Group</option>
                                <option *ngFor="let item of wardServicePriceTags" value={{item._id}}>{{item?.name}}</option>
                            </select>
                        </td>
                        <td class="" routerLink="/dashboard/ward-manager/setup/ward/{{wardId}}/room/{{room._id}}">{{room.beds?.length}}</td>
                        <td>
                            <i [hidden]="roomNameEditShow[i]" (click)="roomNameEditToggle(i)" class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            <i *ngIf="roomNameEditShow[i]" (click)="roomNameEdit(i,room)" class="fa fa-check" aria-hidden="true"></i>
                            <i class="fa fa-trash" aria-hidden="true"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div *ngIf="addRoom" class="modal-overlay">
            <app-add-room (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-add-room>
        </div>
    </div>
</div>
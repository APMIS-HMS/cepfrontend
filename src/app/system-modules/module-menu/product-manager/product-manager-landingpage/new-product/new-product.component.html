<div class="modal-baseWrap animated pulse">

    <div (click)="close_onClick()" class="modal-close-ico" aria-hidden="true">X</div>
    <legend class="modal_title">New Product</legend>
    <div class="modal_mini_title">All Purpose Medical Information System</div>
    <div class="modal_mini_title">{{productName}}</div>
    <div class="mainErr animated shake" [hidden]="mainErr">{{errMsg}}</div>
    <div class="productNameLabel animated fadeIn" *ngIf="productNameLabel">{{productNameLabel_txt}}</div>

    <form novalidate [formGroup]="frm_newProduct">
        <div class="mainfrmwrap">
            <div class="sec-1">
                <div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.name.valid || frm_newProduct.controls.name.pristine">
                        Kindly type something in the field.
                    </small>
                    <label>Name(Product)</label>
                    <input formControlName="name" type="text" name="" value="">
                    <div *ngIf="productSugestion" class="sugestion-wrap shadow-B">
                        <div (click)="onSelectProductSuggestion(dictionary)" *ngFor="let dictionary of dictionaries" class="sugestion-item">{{dictionary.details}}</div>
                    </div>
                    <!--<dx-lookup [items]="employees" [value]="employees[0]" [showPopupTitle]="false">
                    </dx-lookup>-->
                </div>
                <div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.productTypeId.valid || frm_newProduct.controls.productTypeId.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Product Type</label>
                    <select formControlName="productTypeId">
                        <option *ngFor="let productType of productTypes" value="{{productType._id}}">{{productType.name}}</option>
                    </select>
                </div>
                <div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.presentation.valid || frm_newProduct.controls.presentation.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Presentation</label>
                    <!--<dx-lookup [dataSource]="presentations" formControlName="presentationId" [grouped]="false" [closeOnOutsideClick]="true" [showPopupTitle]="false"
                        displayExpr="name" valueExpr="_id">
                    </dx-lookup>-->
                    <input formControlName="presentation" type="text" name="" value="">
                    <span (click)="presentationSlide()" class="flex"><i class="fa fa-plus"></i></span>
                </div>
                <!--<div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.strengthId.valid || frm_newProduct.controls.strengthId.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Strength</label>
                    <dx-lookup [dataSource]="strengths" formControlName="strengthId" [grouped]="false" [closeOnOutsideClick]="true" [showPopupTitle]="false"
                        displayExpr="strength" valueExpr="_id">
                    </dx-lookup><span (click)="strengthSlide()" class="flex"><i class="fa fa-plus"></i></span>
                </div>-->
                <div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.manufacturer.valid || frm_newProduct.controls.manufacturer.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Manufacturer</label>
                    <!--<select formControlName="manufacturerId">
                        <option  *ngFor="let manufacturer of manufacturers" value="{{manufacturer._id}}">{{manufacturer.name}}</option>
                    </select>-->
                    <input formControlName="manufacturer" type="text" name="" value="">
                    <!--<span (click)="manufacturerSlide()" class="flex"><i class="fa fa-plus"></i></span>-->
                </div>

            </div>
            <div class="sec-2">
                <div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.categoryId.valid || frm_newProduct.controls.categoryId.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Service Category</label>
                    <select formControlName="categoryId">
                        <option *ngFor="let category of categories" value="{{category._id}}">{{category.name}}</option>
                    </select>
                </div>
                <div class="frm-item-wrap">
                    <!--<small class="alert-label" [hidden]="frm_newProduct.controls.packLabel.valid || frm_newProduct.controls.packLabel.pristine">
                        Kindly type something in the field.
                    </small>-->
                    <label>Pack Label</label>
                    <input formControlName="packLabel" type="text" name="">
                </div>
                <div class="frm-item-wrap">
                    <!--<small class="alert-label" [hidden]="frm_newProduct.controls.packSize.valid || frm_newProduct.controls.packSize.pristine">
                        Kindly type something in the field.
                    </small>-->
                    <label>Pack Size</label>
                    <input formControlName="packSize" type="text" name="">
                </div>
                <!--<div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.strengthId.valid || frm_newProduct.controls.strengthId.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Strength</label>
                    <select formControlName="strengthId">
                        <option  *ngFor="let manufacturer of manufacturers" value="{{manufacturer._id}}">{{manufacturer.name}}</option>
                    </select>
                </div>-->
                <!--<div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.genericName || frm_newProduct.controls.genericName.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Active Ingredient</label>
                    <input formControlName="genericName" type="text" name="" value="">
                    <!--<div *ngIf="ingridentSugestion" class="sugestion-wrap shadow-B">
                        <div (click)="onSelectActiveIngredientSuggestion(active)" *ngFor="let active of activeIngredients" class="sugestion-item">{{active.genericName}}</div>
                    </div>-->
                <!--</div>-->

            </div>
        </div>

        <div class="clear"></div>

        <div class="sec-3">
            <div class="sec3-headWrap">
                <div class="sectLabel">Active Ingrident</div>
                <i class="fa fa-plus faplus" (click)="addIngredient()"></i>
            </div>
            <form *ngIf="ingredientForm.controls['ingredients'].value.length > 0" [formGroup]="ingredientForm">
                <div formArrayName="ingredients">
                    <div class="frmArr-wrap" *ngFor="let ingredient of ingredientForm.controls[ingredients].controls; let i=index">
                        <div class="panel-heading">
                            <span class="glyphicon glyphicon-remove pull-right" *ngIf="ingredientForm.controls[ingredients].controls > 1" (click)="removeIngredient(i)"></span>
                        </div>
                        <div class="frmArr-wrap" formGroupName="{}">
                            <div class="frm-item-wrap">
                                <small class="alert-label" [hidden]="ingredientForm.controls.ingredientName.valid || ingredientForm.controls.ingridentName.pristine">
                            Kindly type something in the field.
                        </small>
                                <label>Name</label>
                                <input formControlName="ingredientName" type="text">
                            </div>
                            <div class="frm-item-wrap">
                                <small class="alert-label" [hidden]="ingredientForm.controls.ingredientStrength.valid || ingredientForm.controls.ingridentStrength.pristine">
                            Kindly type something in the field.
                        </small>
                                <label>Strength</label>
                                <input formControlName="ingredientStrength" type="text">
                            </div>
                            <div class="frm-item-wrap">
                                <small class="alert-label" [hidden]="ingredientForm.controls.ingredientStrengthUnit.valid || ingredientForm.controls.ingridentStrengthUnit.pristine">
                        Kindly type something in the field.
                    </small>
                                <label>Strength Unit</label>
                                <input formControlName="ingredientStrengthUnit" type="text">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    
    <button class="cta-1" (click)="create(frm_newProduct.valid, frm_newProduct.value)"> <i class="fa fa-plus"></i>&nbsp; Create Product</button>
    </form>
    <div *ngIf="isManufacturer">
        <app-manufacturer-manager></app-manufacturer-manager>
    </div>
    <div *ngIf="isPresentation">
        <app-presentation-manager></app-presentation-manager>
    </div>
    <div *ngIf="isStrength">
        <app-strength-manager></app-strength-manager>
    </div>
</div>
<div class="modal-baseWrap animated pulse">

    <div (click)="close_onClick()" class="modal-close-ico" aria-hidden="true">X</div>
    <legend class="modal_title">New Product</legend>
    <div class="modal_mini_title">All Purpose Medical Information System</div>
    <div class="modal_mini_title">{{productName}}</div>
    <div class="mainErr animated shake" [hidden]="mainErr">{{errMsg}}</div>
    <div class="productNameLabel animated fadeIn" *ngIf="productNameLabel">{{productNameLabel_txt}}</div>

    <form novalidate [formGroup]="frm_newProduct">
        <div class="mainfrmwrap">
            <div class="sec-1">
                <div class="frm-item-wrap">
                    <md-select class="example-full-width" placeholder="Product Type" formControlName="productTypeId">
                        <md-option *ngFor="let productType of productTypes" [value]="productType._id">{{productType.name}}</md-option>
                    </md-select>
                </div>
                <div class="frm-item-wrap">
                    <md-input-container class="example-full-width">
                        <input mdInput md-error placeholder="Name(Product)" formControlName="name">
                    </md-input-container>
                    <div *ngIf="productSugestion" class="sugestion-wrap shadow-B">
                        <div (click)="onSelectProductSuggestion(dictionary)" *ngFor="let dictionary of dictionaries" class="sugestion-item">{{dictionary.details}}</div>
                    </div>
                </div>
                <div class="frm-item-wrap">
                    <md-input-container class="example-full-width">
                        <input mdInput md-error placeholder="Presentation" formControlName="presentation">
                    </md-input-container>
                    <!--<span (click)="presentationSlide()" class="flex"><i class="fa fa-plus"></i></span>-->
                </div>
                <!--<div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.strengthId.valid || frm_newProduct.controls.strengthId.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Strength</label>
                    <dx-lookup [dataSource]="strengths" formControlName="strengthId" [grouped]="false" [closeOnOutsideClick]="true" [showPopupTitle]="false"
                        displayExpr="strength" valueExpr="_id">
                    </dx-lookup><span (click)="strengthSlide()" class="flex"><i class="fa fa-plus"></i></span>
                </div>-->
                <div class="frm-item-wrap">
                    <md-input-container class="example-full-width">
                        <input mdInput md-error placeholder="Manufacturer" formControlName="manufacturer">
                    </md-input-container>
                    <!--<span (click)="manufacturerSlide()" class="flex"><i class="fa fa-plus"></i></span>-->
                </div>

            </div>
            <div class="sec-2">
                <div class="frm-item-wrap">
                    <md-select class="example-full-width" placeholder="Service Category" formControlName="categoryId">
                        <md-option *ngFor="let category of categories" [value]="category._id">{{category.name}}</md-option>
                    </md-select>

                </div>
                <div class="frm-item-wrap">
                    <md-input-container class="example-full-width">
                        <input mdInput md-error placeholder="Pack Label" formControlName="packLabel">
                    </md-input-container>
                </div>
                <div class="frm-item-wrap">
                    <md-input-container class="example-full-width">
                        <input type="number" mdInput md-error placeholder="Pack Size" formControlName="packSize">
                    </md-input-container>
                </div>
                <!--<div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.strengthId.valid || frm_newProduct.controls.strengthId.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Strength</label>
                    <select formControlName="strengthId">
                        <option  *ngFor="let manufacturer of manufacturers" value="{{manufacturer._id}}">{{manufacturer.name}}</option>
                    </select>
                </div>-->
                <!--<div class="frm-item-wrap">
                    <small class="alert-label" [hidden]="frm_newProduct.controls.genericName || frm_newProduct.controls.genericName.pristine">
                        Kindly select an option from the drop down.
                    </small>
                    <label>Active Ingredient</label>
                    <input formControlName="genericName" type="text" name="" value="">
                    <!--<div *ngIf="ingridentSugestion" class="sugestion-wrap shadow-B">
                        <div (click)="onSelectActiveIngredientSuggestion(active)" *ngFor="let active of activeIngredients" class="sugestion-item">{{active.genericName}}</div>
                    </div>-->
                <!--</div>-->

            </div>
        </div>

        <div class="clear"></div>

        <div>
            <div class="sectLabel">Active
                <!-- <Ingredient><s></s></Ingredient> -->
            </div>
            <i class="fa fa-plus faplus pull-right" (click)="addIngredient()"></i>
        </div>
        <div class="sec-3">
            <div class="sec3-headWrap">
                <!--<div class="sectLabel">Active Ingrident</div>-->
                <!--<i class="fa fa-plus faplus" (click)="addIngredient()"></i>-->
            </div>
            <form *ngIf="ingredientForm.controls['ingredients'].value.length > 0" [formGroup]="ingredientForm">
                <div formArrayName="ingredients">
                    <div *ngFor="let ingredient of ingredientForm.controls['ingredients'].controls; let i=index">
                        <div class="panel-heading">
                            <span class="glyphicon glyphicon-remove pull-right" *ngIf="ingredientForm.controls['ingredients'].controls > 1" (click)="removeIngredient(i)"></span>
                        </div>
                        <div class="frmArr-wrap" formGroupName="{{i}}">
                            <div class="frm-item-wrap">
                                <md-input-container class="example-full-width">
                                    <input mdInput md-error placeholder="Name" formControlName="name">
                                </md-input-container>
                            </div>
                            <div class="frm-item-wrap">
                                <md-input-container class="example-full-width">
                                    <input mdInput md-error placeholder="Strength" formControlName="strength">
                                </md-input-container>
                            </div>
                            <div class="frm-item-wrap">
                                <md-input-container class="example-full-width">
                                    <input mdInput md-error placeholder="Strength Unit" formControlName="strengthUnit">
                                </md-input-container>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <button class="cta-1" (click)="create(frm_newProduct.valid, frm_newProduct.value)"> <i class="fa fa-plus"></i>&nbsp; Create Product</button>
    </form>
</div>
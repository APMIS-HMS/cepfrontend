<!-- <ul id="innerMenu-ul" *ngIf="contentSecMenuShow" class="innerMenu-ul shadow">
    <li *ngIf="selectedUser?._id==undefined" (click)="generateUserShow()"><i class="fa fa-sign-in" aria-hidden="true"></i> Generate User</li>
    <li (click)="generateUnit()"><i class="fa fa-cube-in" aria-hidden="true"></i> Assign Unit</li>
    <li (click)="generateWorkSpace()"><i class="fa fa-fax-in" aria-hidden="true"></i> Assign Workspace</li>
    <li *ngIf="selectedUser?._id != undefined" (click)="editUserShow()"><i class="fa fa-sign-in" aria-hidden="true"></i> User Privileges</li>
    <li *ngIf="employee?.isActive" (click)="toggleActivate()"><i class="fa fa-user-times" aria-hidden="true"></i> Deactivate Employee</li>
    <li *ngIf="!employee?.isActive" (click)="toggleActivate()"><i class="fa fa-user" aria-hidden="true"></i> Activate Employee</li>
    <li><i class="fa fa-heartbeat" aria-hidden="true"></i> Health Care Coverage</li>
</ul> -->
<ul class="pg-menuWrap">
    <li *ngIf="selectedUser?._id==undefined" (click)="generateUserShow()" [class.pg-menuActive]="requestContentArea"><i class="fa fa-home" aria-hidden="true"></i> Generate User</li>
    <li (click)="generateUnit()" [class.pg-menuActive]="externalContentArea"><i class="fa fa-braille" aria-hidden="true"></i> Assign Unit</li>
    <li (click)="generateWorkSpace()" [class.pg-menuActive]="reportContentArea"><i class="fa fa-building" aria-hidden="true"></i> Assign Workspace</li>
    <li *ngIf="selectedUser?._id != undefined" (click)="editUserShow()" [class.pg-menuActive]="workbenchContentArea"><i class="fa fa-map-marker" aria-hidden="true"></i> User Privileges</li>
    <li *ngIf="employee?.isActive" (click)="toggleActivate()" [class.pg-menuActive]="investigationContentArea"><i class="fa fa-superpowers" aria-hidden="true"></i> Deactivate Employee</li>
    <li *ngIf="!employee?.isActive" (click)="toggleActivate()" [class.pg-menuActive]="pricingContentArea"><i class="fa fa-filter" aria-hidden="true"></i>Activate Employee</li>
</ul>
<div (click)="closeActivate($event)" class="inner-wrap-b body-wrap">
    <div class="facility-title">Employee Manager</div>
    <!--<div class="">
        <a class="back-btn" mat-raised-button routerLink="/dashboard/employee-manager"><i class="fa fa-arrow-circle-o-left"></i> Go Back</a>
    </div>-->
    <div routerLink="/dashboard/employee-manager" class="backBtn"><i class="fa fa-arrow-circle-o-left" aria-hidden="true"></i>Go Back</div>
    <!-- <div class="side-sec lhs">
        <app-employee-lookup (selectedEmployee)="navEpDetail($event)"></app-employee-lookup>
    </div> -->

    <div class="content-sec rhs">
        <!-- <div class="inner-menu1-wrap">
            <i *ngIf="employee !== undefined && employee._id !== undefined" id="contentSecMenuToggle" (click)="contentSecMenuToggle()" [class.content-sec-icoActive]="contentSecMenuShow" class=" content-sec-ico fa fa-ellipsis-v" aria-hidden="true"></i>
           
            
            <div  class="second-menu">
                <a *ngIf="selectedUser?._id==undefined" (click)="generateUserShow()" class="btning">Generate User |</a>
                <a (click)="generateUnit()" class="btning">Unit |</a>
                <a (click)="generateWorkSpace()" class="btning">Workspace |</a>
                <a *ngIf="selectedUser?._id != undefined" (click)="editUserShow()" class="btning">User Privileges |</a>
                <a *ngIf="employee?.isActive" (click)="toggleActivate()" class="btning">Deactivate Employee |</a>
                <a *ngIf="!employee?.isActive" (click)="toggleActivate()" class="btning">Activate Employee |</a>
                <a class="btning">Health Care</a>    
            </div>
        </div> -->
        <div *ngIf="employee != undefined">
            <div class="empData-header">
                <div class="lhs emp-data">
                    <div class="emp-name">{{employee?.employeeDetails?.lastName}} {{employee?.employeeDetails?.firstName}}</div>
                    <div class="emp-apmisId">{{employee?.employeeDetails?.apmisId}}
                    </div>
                    <div class="emp-dept">{{employee?.department?.name}}
                        <span *ngIf="!editDepartment" (click)="toggleDepartmentShow()" class="editButton">
                        <i class="fa fa-edit"></i></span>
                    </div>
                    <div *ngIf="editDepartment" class="emp-dept">
                        <mat-form-field>
                            <mat-select placeholder="Departments" [(ngModel)]="selectedValue">
                                <mat-option *ngFor="let department of departments" [value]="department._id">
                                    {{department.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <a *ngIf="editDepartment" (click)="updateEmployee()"><i class="fa fa-check"></i></a>
                    </div>
                    <div class="emp-email">{{employee?.employeeDetails?.email}}</div>
                    <div class="emp-number">{{employee?.employeeDetails?.phoneNumber}}</div>
                    <div class="emp-status">
                        <span *ngIf="!employee?.isActive" style="color:#E53935;">Inactive</span>
                        <span [hidden]="!employee?.isActive" style="color: #43A047;">Active</span>
                    </div>
                </div>
                <div class="rhs emp-img">
                    <div class="emp-img-wrap">
                        <div *ngIf="employee?.employeeDetails?.profileImageObject === undefined"><img src="assets/images/users/default.png"></div>
                        <img *ngIf="employee?.employeeDetails?.profileImageObject !== undefined" class="shadow" [src]="facilityService.transform(employee?.employeeDetails?.profileImageObject?.detailthumbnail)">
                        <div (click)="show_changeUserImg()" class="pp-overlay">Change User Image</div>
                    </div>
                </div>
                <div class="clear"></div>
            </div>
            <div class="empData-body">
                <div class="empData-block emp-bioData">
                    <div class="empDataBlock-title">Bio Data
                        <div *ngIf="!biodatas" (click)="bioDataShow()" class="editButton">
                            <i class="fa fa-edit"></i></div>
                        <div *ngIf="biodatas" (click)="UpdatePerson()" class="editButton">
                            <i class="fa fa-check"></i>
                        </div>
                    </div>
                    <div class="dataMix-wrap color1">
                        <div class="lhs">Full Name</div>
                        <div *ngIf="!biodatas" class="rhs">{{employee?.employeeDetails?.lastName}} {{employee?.employeeDetails?.firstName}} </div>
                        <div *ngIf="biodatas" class="survery rhs">
                            <mat-input-container class="example-full-width">
                                <input matInput placeholder="Last Name" [(ngModel)]="employee.employeeDetails.lastName">
                            </mat-input-container>
                            <mat-input-container class="example-full-width">
                                <input matInput placeholder="Other Name" [(ngModel)]="employee.employeeDetails.otherNames">
                            </mat-input-container>
                            <mat-input-container class="example-full-width">
                                <input matInput placeholder="First Name" [(ngModel)]="employee.employeeDetails.firstName">
                            </mat-input-container>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color2">
                        <div class="lhs">Gender</div>
                        <div *ngIf="!biodatas" class="rhs"> {{employee?.employeeDetails?.gender.name}} </div>
                        <div *ngIf="biodatas" class="survery rhs">
                            <mat-form-field>
                                <mat-select placeholder="Gender" [(ngModel)]="employee.employeeDetails.gender._id" name="food">
                                    <mat-option *ngFor="let gender of genders" [value]="gender._id">
                                        {{gender.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color1">
                        <div class="lhs">Marital Status</div>
                        <div *ngIf="!biodatas" class="rhs"> {{employee?.employeeDetails?.maritalStatus.name}} </div>
                        <div *ngIf="biodatas" class="survery rhs">
                            <mat-form-field>
                                <mat-select placeholder="Marital Status" [(ngModel)]="employee.employeeDetails.maritalStatus._id" name="food">
                                    <mat-option *ngFor="let marital of maritalStatuses" [value]="marital._id">
                                        {{marital.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color2">
                        <div class="lhs">Date of Birth</div>
                        <div *ngIf="!biodatas" class="rhs"> {{employee?.employeeDetails?.dateOfBirth | date}} </div>
                        <div *ngIf="biodatas" class="survery rhs">
                            <mat-input-container>
                                <input matInput [matDatepicker]="picker" [(ngModel)]="employee.employeeDetails.dateOfBirth" placeholder="Choose a date">
                                <!-- <button mdSuffix [mdDatepickerToggle]="picker"></button> -->
                                <mat-datepicker-toggle mdSuffix [for]="picker"></mat-datepicker-toggle>
                            </mat-input-container>
                            <mat-datepicker #picker></mat-datepicker>
                        </div>
                        <div class="clear"></div>
                    </div>

                </div>

                <div class="empData-block emp-bioData">
                    <div class="empDataBlock-title">Contact Information
                        <span *ngIf="!contacts" (click)="contactShow()" class="editButton"><i class="fa fa-edit"></i></span>
                        <span *ngIf="contacts" (click)="UpdatePersonContact()" class="editButton"><i class="fa fa-check"></i></span>
                    </div>
                    <div class="dataMix-wrap color1">
                        <div class="lhs">Nationality</div>
                        <div *ngIf="!contacts" class="rhs"> {{employee?.employeeDetails?.addressObj?.country}} </div>
                        <div *ngIf="contacts" class="survery rhs">
                            <div *ngIf="contacts">
                                <mat-form-field>
                                    <mat-select placeholder="Nationality" [formControl]="countryControl" [(ngModel)]="employee.employeeDetails.nationalityId" name="food">
                                        <mat-option *ngFor="let country of countries" [value]="country._id">
                                            {{country.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <!-- /.col-lg-6 -->
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color2">
                        <div class="lhs">State of Origin</div>
                        <div *ngIf="!contacts" class="rhs"> {{employee?.employeeDetails?.addressObj?.state}} </div>
                        <div *ngIf="contacts" class="survery rhs">
                            <mat-form-field>
                                <mat-select placeholder="State of Origin" [formControl]="stateControl" [(ngModel)]="employee.employeeDetails.stateOfOriginId" name="food">
                                    <mat-option *ngFor="let state of states" [value]="state._id">
                                        {{state.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color1">
                        <div class="lhs">LGA</div>
                        <div *ngIf="!contacts" class="rhs"> {{employee?.employeeDetails?.addressObj?.lga}} </div>
                        <div class="survery rhs">
                            <div *ngIf="contacts" class="">
                                <mat-form-field>
                                    <mat-select placeholder="LGA" [(ngModel)]="employee.employeeDetails.lgaOfOriginId" name="food">
                                        <mat-option *ngFor="let lg of lgs" [value]="lg._id">
                                            {{lg.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <!-- /.col-lg-6 -->
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color2">
                        <div class="lhs">Home Address</div>
                        <div *ngIf="!contacts" class="rhs"> {{employee?.employeeDetails?.fullAddress}}. </div>
                        <div *ngIf="contacts" class="survery rhs">
                            <mat-form-field>
                                <mat-select placeholder="Country" [formControl]="homeCountryControl" [(ngModel)]="employee.employeeDetails.homeAddress.country" name="food">
                                    <mat-option *ngFor="let country of homeCountries" [value]="country._id">
                                        {{country.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field>
                                <mat-select placeholder="State" [formControl]="homeStateControl" [(ngModel)]="employee.employeeDetails.homeAddress.state" name="food">
                                    <mat-option *ngFor="let state of homeStates" [value]="state._id">
                                        {{state.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field>
                                <mat-select placeholder="City" [(ngModel)]="employee.employeeDetails.homeAddress.city" name="food">
                                    <mat-option *ngFor="let city of homeCities" [value]="city._id">
                                        {{city.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-input-container class="example-full-width" name="street">
                                <input matInput placeholder="Street" [(ngModel)]="employee.employeeDetails.homeAddress.street">
                            </mat-input-container>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color1">
                        <div class="lhs">Phone Number</div>
                        <div *ngIf="!contacts" class="rhs"> {{employee?.employeeDetails?.phoneNumber}}</div>
                        <div *ngIf="contacts" class="survery rhs">
                            <mat-input-container class="example-full-width">
                                <input type="tel" matInput placeholder="Phone Number" [(ngModel)]="employee.employeeDetails.phoneNumber">
                            </mat-input-container>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color2">
                        <div class="lhs">Email Address</div>
                        <div *ngIf="!contacts" class="rhs"> {{employee?.employeeDetails?.email}} </div>
                        <div *ngIf="contacts" class="survery rhs">
                            <mat-input-container class="example-full-width">
                                <input type="tel" matInput placeholder="Email" [(ngModel)]="employee.employeeDetails.email">
                            </mat-input-container>
                        </div>
                        <div class="clear"></div>
                    </div>

                </div>

                <div *ngFor="let item of employee?.employeeDetails?.nextOfKin" class="empData-block emp-bioData">
                    <div class="empDataBlock-title">Next of Kin
                        <span *ngIf="!nextofkin" (click)="nextofkinShow()" class="editButton"><i class="fa fa-edit"></i></span>
                        <span *ngIf="nextofkin" (click)="UpdatePersonNextOfKin()" class="editButton"><i class="fa fa-check"></i></span>
                    </div>

                    <div class="dataMix-wrap color1">
                        <div class="lhs">Full Name</div>
                        <div *ngIf="!nextofkin" class="rhs"> {{item.fullName}} </div>
                        <div *ngIf="nextofkin" class="survery rhs">
                            <mat-input-container class="example-full-width">
                                <input type="text" matInput placeholder="Full Name" [(ngModel)]="item.fullName">
                            </mat-input-container>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color2">
                        <div class="lhs">Relationship</div>
                        <div *ngIf="!nextofkin" class="rhs"> {{getRelationship(item.relationship)}} </div>
                        <div *ngIf="nextofkin" class="survery rhs">
                            <mat-form-field>
                                <mat-select placeholder="Relationship" [(ngModel)]="item.relationship" name="food">
                                    <mat-option *ngFor="let relationship of relationships" [value]="relationship._id">
                                        {{relationship.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color1">
                        <div class="lhs">Phone Number</div>
                        <div *ngIf="!nextofkin" class="rhs"> {{item.phoneNumber}} </div>
                        <div *ngIf="nextofkin" class="survery rhs">
                            <mat-input-container class="example-full-width">
                                <input matInput placeholder="Phone Number" [(ngModel)]="item.phoneNumber">
                            </mat-input-container>
                        </div>
                        <div class="clear"></div>
                    </div>

                    <div class="dataMix-wrap color2">
                        <div class="lhs">Email</div>
                        <div *ngIf="!nextofkin" class="rhs"> {{item.email}} </div>
                        <div *ngIf="nextofkin" class="survery rhs">
                            <mat-input-container class="example-full-width">
                                <input matInput placeholder="Email" [(ngModel)]="item.email">
                            </mat-input-container>
                        </div>
                        <div class="clear"></div>
                    </div>

                </div>

            </div>
        </div>
        <div *ngIf="loadIndicatorVisible" class="div_loading">
            <mat-spinner></mat-spinner>
        </div>
    </div>
    <div class="clear"></div>

    <div *ngIf="changeUserImg" class="modal-overlay">
        <app-image-update [selectedPerson]="selectedPerson" (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-image-update>
    </div>
    <div *ngIf="createWorkspace" class="modal-overlay">
        <app-create-workspace [selectedEmployee]="employee" (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-create-workspace>
    </div>
    <div *ngIf="assignUnitPop" class="modal-overlay">
        <app-assign-unit [selectedEmployee]="employee" (closeModal)="close_onClick($event)" id="form-modal" class="form-modal center-center"></app-assign-unit>
    </div>
</div>
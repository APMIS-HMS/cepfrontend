<div class="pp-card shadow-grey">

    <div class="card-title" style="background:#eee;padding:5px 0;">HMO List</div>

    <ul class="pg-menuWrap">
        <li (click)="tab1_click()" [class.pg-menuActive]="tab1">
            <i class="fa fa-pause" aria-hidden="true"></i> Pending Bills</li>
        <li (click)="tab2_click()" [class.pg-menuActive]="tab2">
            <i class="fa fa-history" aria-hidden="true"></i>Billing History</li>
    </ul>
    <div *ngIf="tab1">
        <div class="card-title">Pending Bills</div>

        <table class="workspace-tbl" cellpadding="0" cellspacing="0" border="0.5">
            <thead>
                <tr>
                    <th>
                        <span style="padding-left: 3px;">Date</span>
                    </th>
                    <th>
                        <span style="padding-left: 3px;">File No.</span>
                    </th>
                    <th>
                        <span style="padding-left: 3px;">HMO</span>
                    </th>
                    <!-- <th>
                        <span style="padding-left: 3px;">Amount</span>
                    </th> -->
                </tr>
            </thead>

            <tbody>
                <tr (click)="billDetail(bill)" *ngFor="let bill of bills">
                    <td>{{bill.updatedAt|date:'medium'}}</td>
                    <td>
                        {{bill.coverFile.id}}
                    </td>
                    <td>
                        <div class="empWrap">
                            <div class="list-img">
                                <img src="assets/images/logos/default.png">
                            </div>
                            <div>{{bill.coverFile.name}}</div>
                        </div>
                    </td>
                    <!-- <td class="td-worspace">&#8358; {{bill.grandTotal|number:'1.2-2'}}</td> -->
                </tr>
            </tbody>
        </table>
    </div>
    <div *ngIf="tab2">

        <div class="x2">
            <div class="card-title">Billing History</div>
            <button class="btn-norm" (click)="hmo_report()"><i class="fa fa-file"></i> &nbsp; Generate Report</button>
        </div>
        <div class="well-lg " >
          <p *ngFor="let v of historyBills" style="padding: 10px;margin:10px; background-color: #eda993;">
            Group  {{v.group}}

          </p>
        </div>
        <table class="workspace-tbl" cellpadding="0" cellspacing="0" border="0.5">
            <thead>
                <tr>
                    <th>
                        <span style="padding-left: 3px;">Date</span>
                    </th>
                    <th>
                        <span style="padding-left: 3px;">File</span>
                    </th>
                    <th>
                        <span style="padding-left: 3px;">HMO</span>
                    </th>
                    <th>
                        <span style="padding-left: 3px;">Amount</span>
                    </th>
                </tr>
            </thead>

            <tbody>
                <tr (click)="billHistoryDetail(bill)" *ngFor="let bill of historyBills.value">
                    <td>{{bill.updatedAt|date:'medium'}}</td>
                    <td>
                        {{bill.coverFile.id}}
                    </td>
                    <td>
                        <div class="empWrap">
                            <div class="list-img">
                                <img src="assets/images/logos/default.png">
                            </div>
                            <div> {{bill.coverFile.name}}</div>
                        </div>
                    </td>
                    <td class="td-worspace">&#8358; {{bill.grandTotal|number:'1.2-2'}}</td>
                </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="3" class="text-right">Grand Total</td>
                <td  style="font-weight: bold; background-color: #ececf7">
                    &#8358;  {{grandTotal |number:'1.2-2'}}
                </td>
                
            </tr>
            </tfoot>
        </table>
    </div>
</div>

<div *ngIf="billDetail_show" class="modal-overlay">
    <app-hmo-bill-detail (closeModal)="close_onClick($event)" (refreshBills)="onRefreshBills($event)" [selectedBill]="selectedBill"
        id="form-modal" class="form-modal center-center"></app-hmo-bill-detail>
</div>
<div *ngIf="billHistoryDetail_show" class="modal-overlay">
    <app-hmo-bill-history-detail (closeModal)="close_onClick($event)" [selectedBill]="selectedBill" id="form-modal"
        class="form-modal center-center"></app-hmo-bill-history-detail>
</div>
<div *ngIf="hmoReport_show" class="modal-overlay">
    <app-hmo-report (closeModal)="close_onClick($event)" [selectedBill]="selectedBill" id="form-modal" class="form-modal center-center"></app-hmo-report>
</div>
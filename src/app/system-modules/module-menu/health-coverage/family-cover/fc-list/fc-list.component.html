<div>
  <div class="doc-mainWrap">
    <div class="doc-contentArea">
      <div class="clinicalNoteWrap">
        <div class="actSect">
          <div class="actSect-header">
            <div (click)="newFamily_show()" class="act-wrap">
              <i *ngIf="newFamily" class="fa fa-minus" aria-hidden="true"></i>
              <i [hidden]="newFamily" class="fa fa-plus" aria-hidden="true"></i>
              <span>New Family</span>
            </div>
          </div>

          <form class="frmNoteWrap" *ngIf="newFamily" [formGroup]="frmNewBeneficiary" novalidate>
            <div class="frm-title">NEW Family</div>

            <div class="frm-x2">
              <div class="frm-item-wrap">
                <md-input-container>
                  <input mdInput placeholder="Principal Surname" formControlName="surname">
                </md-input-container>
              </div>

              <div class="frm-item-wrap">
                <md-input-container>
                  <input mdInput placeholder="Principal Othernames" formControlName="othernames">
                </md-input-container>
              </div>

              <div class="frm-item-wrap">
                <md-input-container>
                  <input mdInput placeholder="Principal ID" formControlName="filNo">
                </md-input-container>
              </div>

              <div class="frm-item-wrap">
                <md-input-container>
                  <input mdInput placeholder="Address" formControlName="address">
                </md-input-container>
              </div>

              <div class="frm-item-wrap">
                <md-input-container class="example-full-width">
                  <input type="email" mdInput md-error placeholder="Email" formControlName="email">
                </md-input-container>
              </div>

              <div class="frm-item-wrap">
                <md-input-container class="example-full-width">
                  <input type="tel" mdInput md-error placeholder="Phone Number" formControlName="phone">
                </md-input-container>
              </div>
              <div class="frm-item-wrap">
                <md-select placeholder="Gender" formControlName="gender">
                  <md-option *ngFor="let gender of genders" [value]="gender._id">{{gender.name}}</md-option>
                </md-select>
              </div>
              <div class="frm-item-wrap">
                <md-select placeholder="Status" formControlName="status">
                  <md-option *ngFor="let status of statuses" [value]="status._id">{{status.name}}</md-option>
                </md-select>
              </div>

            </div>


          </form>




          <form *ngIf="frmNewBeneficiary.valid" [formGroup]="frmDependant">
            <div formArrayName="dependantArray" class="frmArrayWrap">
              <div class="frmArray" *ngFor="let dependant of frmDependant.controls['dependantArray'].controls; let i = index;">
                <div *ngIf="!dependant.value.readOnly" (click)="closeDependant(dependant, i)" class="closeIcon"><i class="fa fa-times-circle-o" aria-hidden="true"></i></div>
                <div formGroupName="{{i}}">
                  <div class="frmNoteWrap">
                    <div class="">Add Dependant</div>
                    <div>
                      <div class="dv-wrap">
                        <div class="frm-x2 frmArray">
                          <div class="frm-item-wrap">
                            <md-input-container>
                              <input mdInput placeholder="Surname" formControlName="surname">
                            </md-input-container>
                          </div>
                          <div class="frm-item-wrap">
                            <md-input-container>
                              <input mdInput placeholder="Othernames" formControlName="othernames">
                            </md-input-container>
                          </div>

                          <div class="frm-item-wrap">
                            <md-input-container class="example-full-width">
                              <input type="email" mdInput md-error placeholder="Email" formControlName="email">
                            </md-input-container>
                          </div>

                          <div class="frm-item-wrap">
                            <md-input-container class="example-full-width">
                              <input type="tel" mdInput md-error placeholder="Phone Number" formControlName="phone">
                            </md-input-container>
                          </div>

                          <div class="frm-item-wrap">
                            <md-select placeholder="Gender" formControlName="gender">
                              <md-option *ngFor="let gender of genders" [value]="gender._id">{{gender.name}}</md-option>
                            </md-select>
                          </div>
                          <div class="frm-item-wrap">
                            <md-select placeholder="Status" formControlName="status">
                              <md-option *ngFor="let status of statuses" [value]="status._id">{{status.name}}</md-option>
                            </md-select>
                          </div>
                        </div>
                        <div (click)="pushNewDependant(dependant, i)" class="frmArrayBtn"><i class="fa fa-plus" aria-hidden="true"></i></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </form>
          <div class="flex-button">
            <button [disabled]="!frmNewBeneficiary.valid" *ngIf="newFamily" (click)="save(frmNewBeneficiary.valid, frmNewBeneficiary.value, frmDependant.valid, frmDependant.value)"
              class="cta-1">Add Family</button>
            <button *ngIf="newFamily" (click)="cancel()" class="cta-1">Cancel</button>
          </div>
        </div>


        <!-- <div class="pg-subtitle">HMO List</div>  -->
        <div class="tblWrapa" class="actSect">
          <md-paginator [pageIndex]="0" [length]="beneficiaries.length" [pageSize]="pageSize" (page)="pageEvent = $event; onPaginateChange($event)"
            [pageSizeOptions]="pageSizeOptions">
          </md-paginator>
          <table cellpadding="0" cellspacing="0" border="0.5">
            <thead>
              <tr>
                <th>
                  <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                  <!--<i class="fa fa-sort-alpha-desc" aria-hidden="true"></i>-->
                  <span style="padding-left: 3px;">Principal</span>
                </th>
                <th>
                  <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                  <!--<i class="fa fa-sort-alpha-desc" aria-hidden="true"></i>-->
                  <span style="padding-left: 3px;">Gender</span>
                </th>
                <th>
                  <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                  <!--<i class="fa fa-sort-alpha-desc" aria-hidden="true"></i>-->
                  <span style="padding-left: 3px;">Client ID</span>
                </th>
                <th>
                  <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                  <!--<i class="fa fa-sort-alpha-desc" aria-hidden="true"></i>-->
                  <span style="padding-left: 3px;">Role</span>
                </th>
                <th>
                  <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                  <!--<i class="fa fa-sort-alpha-desc" aria-hidden="true"></i>-->
                  <span style="padding-left: 3px;">Address</span>
                </th>
                <th>
                  <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                  <!--<i class="fa fa-sort-alpha-desc" aria-hidden="true"></i>-->
                  <span style="padding-left: 3px;">Email</span>
                </th>
                <th>
                  <i class="fa fa-sort-alpha-asc" aria-hidden="true"></i>
                  <!--<i class="fa fa-sort-alpha-desc" aria-hidden="true"></i>-->
                  <span style="padding-left: 3px;">Phone</span>
                </th>
                <th></th>
              </tr>
            </thead>

            <tbody>

              <tr>
                <td colspan="10">
                  <div class="tbl-actionRow">
                    <!-- <div class="frm-item-wrap">
                          <apmis-lookup [(ngModel)]="apmisLookupText" 
                          url="apmisLookupUrl" query="apmisLookupQuery" placeholder="Patient"
                          isSocket="false" displayKey="apmisLookupDisplayKey" 
                          (selectedItem)="apmisLookupHandleSelectedItem($event)"></apmis-lookup>
                        </div>

                        <div class="frm-item-wrap">
                          <apmis-lookup [(ngModel)]="apmisLookupText" 
                              url="apmisLookupUrl" query="apmisLookupQuery" placeholder="Practitioner"
                              isSocket="false" displayKey="apmisLookupDisplayKey" 
                              (selectedItem)="apmisLookupHandleSelectedItem($event)"></apmis-lookup>
                        </div>

                        <div class="frm-item-wrap">
                          <apmis-lookup [(ngModel)]="apmisLookupText" 
                              url="apmisLookupUrl" query="apmisLookupQuery" placeholder="Location"
                              isSocket="false" displayKey="apmisLookupDisplayKey" 
                              (selectedItem)="apmisLookupHandleSelectedItem($event)"></apmis-lookup>
                        </div> -->
                  </div>
                </td>
              </tr>

              <tr *ngFor="let beneficiary of beneficiaries" (click)="show_beneficiaries()">
                <td>{{beneficiary.surname}} {{beneficiary.surname}}</td>
                <td>{{beneficiary.gender}}</td>
                <td> {{beneficiary.filNo}}</td>
                <td>
                  <div class="role">{{getRole(beneficiary)}}</div>
                </td>
                <td>{{beneficiary.address}}.</td>
                <td>{{beneficiary.email}}</td>
                <td>{{beneficiary.phone}}</td>
                <td class="action-placeholder" style="text-align:center;">
                  <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                  <div class="action-container shadow-RB">
                    <div (click)="addDependant()" class="action-item">
                      <i class="fa fa-cloud-upload" aria-hidden="true"></i>
                      <span>Add Dependant</span>
                    </div>

                    <div class="action-item">
                      <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                      <span>Update Family</span>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <md-paginator [pageIndex]="0" [length]="beneficiaries.length" [pageSize]="pageSize" (page)="pageEvent = $event; onPaginateChange($event)"
            [pageSizeOptions]="pageSizeOptions">
          </md-paginator>
        </div>
      </div>
    </div>
  </div>
</div>

<section id="presc-list">
  <div class="filterTop">
    <div class="searchproduct">
      <div class="InputGroup">
        <input class="customInput" type="text" required>
        <span class="highlight"></span>
        <span class="bar"></span>
        <label class="customLabel" style="font-size: 12px !important;"><i class="fa fa-search" aria-hidden="true"></i>Search
          prescription with name or
          apmis
          id</label>
      </div>
    </div>
    <div class="tbl-header-rhs">
      <div class="filters">
        <h3>filter:</h3>
      </div>
      <div class="filter-btn">
        <span>All</span>
      </div>
      <div class="filter-btn">
        <select>
          <option value="0">Clinic</option>
        </select>
      </div>
      <div class="filter-btn">
        <select>
          <option value="0">Physician</option>
        </select>
      </div>
      <div class="filter-btn">
        <input type="date">
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <div class="row" *ngIf="!psearchOpen">
        <div class="table-head col-md-1"> S/N </div>
        <div class="table-head col-md-2"> Date </div>
        <div class="table-head col-md-2"> Patient </div>
        <div class="table-head col-md-2"> Location </div>
        <div class="table-head col-md-1"> Priority </div>
        <div class="table-head col-md-2"> Prescriber </div>
        <div class="table-head col-md-1"> Status </div>
        <div class="table-head col-md-1">
          <i class="fa fa-search fa-fw" (click)="popenSearch()"></i>
        </div>
      </div>
      <div class="row search-box" *ngIf="psearchOpen">
        <div class="col-md-4">
          <input class="table-header-input" type="text" placeholder="Search Patient">
        </div>
        <div class="col-md-3">
          <input class="table-header-input" type="date" placeholder="Choose a date">
        </div>
        <div class="col-md-1 table-head">
          <i class="fa fa-close fa-fw" (click)="pcloseSearch()"></i>
        </div>
      </div>
    </div>
    <div class="card-content">
      <div class="card-list-item" *ngIf="prescriptionLists.length===0 && !loading">
        <div class="row">
          <div class="table-list text-center col-xs-12">
            No data available in table
          </div>
        </div>
      </div>
      <div class="card-list-item" *ngIf="prescriptionLists.length===0 && loading">
        <div class="row">
          <div class="table-list text-center col-xs-12">
            <i class="fa fa-circle-o-notch fa-spin fa-3x text-blue" aria-hidden="true"></i>
          </div>
        </div>
      </div>
      <div class="card-list-item" *ngFor="let prescription of prescriptionLists; let i = index;" routerLink='/dashboard/pharmacy/prescriptions/{{prescription._id}}'>
        <div class="row">
          <div class="table-list col-md-1">{{ i+1 }}</div>
          <div class="table-list col-md-2">{{prescription?.updatedAt | date}}</div>
          <div class="table-list col-md-2">{{prescription?.personDetails.firstName }}
            {{prescription?.personDetails.lastName }}</div>
          <div class="table-list col-md-2">{{prescription?.clinicId }}</div>
          <div class="table-list col-md-1">{{prescription?.priority?.name}}</div>
          <div class="table-list col-md-2">{{prescription?.employeeDetails.firstName }}
            {{prescription?.employeeDetails.lastName }}</div>
          <div class="table-list col-md-2">
            <span *ngIf="prescription.status == 'Completely'" style="color:forestgreen">Completely<br>Assessed</span>
            <span *ngIf="prescription.status == 'Partly'" style="color:blue">Partly<br>Assessed</span>
            <span *ngIf="prescription.status == 'Not'" style="color:crimson">Not<br>Assessed</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
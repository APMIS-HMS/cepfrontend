<div class="wrap">

    <div class="row">
        <div class="col-sm-4">
            <h2> Select a Product </h2>
            <apmis-lookup [formControl]="searchProdductControl" [(ngModel)]="apmisLookupText" [url]="apmisLookupUrl" [query]="apmisLookupQuery"
                placeholder="Search Product" [isSocket]="true" [displayKey]="apmisLookupDisplayKey" (selectedItem)="apmisLookupHandleSelectedItem($event)"></apmis-lookup>
            <br>
            <br>

            <div *ngIf="selectedProduct.name !== undefined">
                <h2> Select a Pack Type </h2>
                <ul *ngFor="let item of packages;let i=index">
                    <li>
                        <div class="checkwrap">
                            <label class="container">
                                {{item.name}}
                                <input type="checkbox" [checked]="item.checked" (change)="addPackage($event,item,i)">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-sm-8">
            <h2>
                {{selectedProduct.name}}
            </h2>
            <form [formGroup]="packageForm" novalidate>
                <div formArrayName="package">
                    <div class="row card pack-item animated bounceInRight" *ngFor="let item of packageForm['controls'].package['controls']; let i=index;" formGroupName="{{i}}">
                        <div class="col-xs-4">
                            <h2 style="line-height: 60px">
                                <span *ngIf="i>0">1&nbsp;</span>
                                {{item._value.name}}
                            </h2>
                        </div>
                        <mat-input-container class="col-xs-3" *ngIf="i>0">
                            <input matInput type="number" placeholder="No. of {{packageForm.controls.package.controls[0].controls.name.value}}" formControlName="size">
                        </mat-input-container>
                        <div class="col-xs-3" *ngIf="i==0">
                            &nbsp;
                        </div>
                        <div class="col-xs-2 pack-label">
                            <h2 *ngIf="i>0" style="line-height:60px">{{packageForm.controls.package.controls[0].controls.name.value}}</h2>
                        </div>
                        <div class="col-xs-3">
                            <h2 class="action-icon">
                                <i class="fa fa-close fa-fw" style="color : red" (click)="removePack(i,item)"></i>
                                <i class="fa fa-angle-down fa-2x fa-fw" (click)="onMoveDown(i,item)"></i>
                                <i class="fa fa-angle-up fa-2x fa-fw" (click)="onMoveUp(i,item)"></i>
                            </h2>
                        </div>
                    </div>
                    <div class="row card" *ngIf="packageForm['controls'].package['controls'].length === 0">
                        <div class="col-xs-12">
                            <h2 style="line-height: 60px; text-align: center;">
                                You don't have any pack type yet.
                            </h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <button class="button" [formControl]="btnSave" (click)="save()" [disabled]="btnShowStatus"> SAVE </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>